<div class="flex flex-column justify-content-center align-items-center">

  <h2 class="mt-7">Create an account</h2>
  <form [formGroup]="registerForm!" (ngSubmit)="onRegister()" class="form-container">

    <label class="mb-2" htmlFor="name">Name</label>
    <input type="text" pInputText formControlName="name"/>
    <span *ngIf="registerForm!.get('name')?.hasError('required') && registerForm!.get('name')?.touched"
      class="error-message">
      Name is required.
    </span>

    <label class="mb-2" htmlFor="email">Email</label>
    <input type="email" pInputText formControlName="email"/>
      <span *ngIf="registerForm!.get('email')?.hasError('required') && registerForm!.get('email')?.touched"
        class="error-message">
        Email is required.
      </span>
      <span *ngIf="registerForm!.get('email')?.hasError('required') && registerForm!.get('email')?.touched"
        class="error-message mt-2">
        Email format required.
      </span>

    <label class="mb-2" htmlFor="password">Password</label>
    <input type="password" pInputText formControlName="password" />
    <span *ngIf="registerForm!.get('password')?.hasError('required') && registerForm!.get('password')?.touched"
      class="error-message">
      Password is required.
    </span>
    <span *ngIf="registerForm!.get('password')?.hasError('minlength') && registerForm!.get('password')?.touched"
      class="error-message">
      Minimum 3 characters are needed.
    </span>

    <label class="mb-2" htmlFor="password2">Confirm password</label>
    <input type="password" pInputText formControlName="password2" />
    <span
      *ngIf="registerForm!.get('password2') !== registerForm!.get('password') && registerForm!.get('password2')?.touched"
      class="error-message">
      Passwords must match.
    </span>

    <p-toast></p-toast>
    <p-button class="align-self-center" (onClick)="onRegister()">Register</p-button>
    
  </form>

  <div class="flex justify-content-end mt-5">
    <a routerLink="/auth/login">You already have an account?</a>
  </div>
</div>

